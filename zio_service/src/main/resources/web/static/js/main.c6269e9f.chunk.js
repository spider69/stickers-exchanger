(this["webpackJsonpauth-app-client"]=this["webpackJsonpauth-app-client"]||[]).push([[0],{51:function(e,t,n){e.exports=n(76)},56:function(e,t,n){},58:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},68:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(25),o=n.n(c),l=n(11),s=(n(56),n(4)),i=n.n(s),u=n(7),m=n(6),p=Object(a.createContext)(null);function h(){return Object(a.useContext)(p)}var f=n(84),d=n(85),E=n(8);function b(e){var t=e.toString();e instanceof Error||!e.message||(t=e.message),alert(t)}function g(e){if(!e.ok)throw Error(e.statusText);return e}n(58);function v(){var e=Object(E.k)(),t=h().userId;return r.a.createElement("div",{className:"Home"},t?void e.push("/users/".concat(t.replace(/"/g,""))):r.a.createElement("div",{className:"lander"},r.a.createElement("h1",null,"Welcome to stickers exchanger service!"),r.a.createElement("p",null,"Click sign up to register")))}n(64);function w(){return r.a.createElement("div",{className:"NotFound"},r.a.createElement("h3",null,"Sorry, page not found!"))}var k=n(79),j=n(80),O=n(86),x=n(24),y=n(78),I=n(43),S=n.n(I);n(65);function C(e){var t=e.isLoading,n=e.className,a=void 0===n?"":n,c=e.disabled,o=void 0!==c&&c,l=Object(x.a)(e,["isLoading","className","disabled"]);return r.a.createElement(y.a,Object.assign({className:"LoaderButton ".concat(a),disabled:o||t},l),t&&r.a.createElement(S.a,{glyph:"refresh",className:"spinning"}),l.children)}var N=n(19),L=n(16);function T(e){var t=Object(a.useState)(e),n=Object(m.a)(t,2),r=n[0],c=n[1];return[r,function(e){c(Object(L.a)(Object(L.a)({},r),{},Object(N.a)({},e.target.id,e.target.value)))}]}n(66);function U(){var e=Object(E.k)(),t=h().setUserId,n=Object(a.useState)(!1),c=Object(m.a)(n,2),o=c[0],l=c[1],s=T({login:"",password:""}),p=Object(m.a)(s,2),f=p[0],d=p[1];function g(e){return v.apply(this,arguments)}function v(){return(v=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:if(n=e.sent,t.ok){e.next=5;break}throw Error(n);case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(u.a)(i.a.mark((function n(a){var r,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),l(!0),n.prev=2,r={login:f.login,password:f.password},n.next=6,fetch("".concat(window.location.origin,"/api/auth/sign_in"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(g);case 6:c=n.sent,t(c),e.push("/"),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(2),b(n.t0),l(!1);case 15:case"end":return n.stop()}}),n,null,[[2,11]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"Login"},r.a.createElement("form",{onSubmit:function(e){return w.apply(this,arguments)}},r.a.createElement(k.a,{controlId:"login"},r.a.createElement(j.a,null,"Login"),r.a.createElement(O.a,{autoFocus:!0,type:"text",value:f.login,onChange:d})),r.a.createElement(k.a,{controlId:"password"},r.a.createElement(j.a,null,"Password"),r.a.createElement(O.a,{type:"password",value:f.password,onChange:d})),r.a.createElement(C,{block:!0,type:"submit",isLoading:o,disabled:!(f.login.length>0&&f.password.length>0)},"Login")))}n(68);function P(){var e=T({userName:"",email:"",password:"",confirmPassword:""}),t=Object(m.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),l=Object(m.a)(o,2),s=l[0],p=l[1];function h(e){return f.apply(this,arguments)}function f(){return(f=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:if(n=e.sent,t.ok){e.next=5;break}throw Error(n);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),p(!0),e.prev=2,a={login:n.userName,email:n.email,password:n.password},e.next=6,fetch("".concat(window.location.origin,"/api/auth/sign_up"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(h);case 6:p(!1),window.location.reload(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),b(e.t0),p(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"Signup"},r.a.createElement("form",{onSubmit:function(e){return d.apply(this,arguments)}},r.a.createElement(k.a,{controlId:"userName"},r.a.createElement(j.a,null,"User name"),r.a.createElement(O.a,{autoFocus:!0,type:"text",value:n.userName,onChange:c})),r.a.createElement(k.a,{controlId:"email"},r.a.createElement(j.a,null,"Email"),r.a.createElement(O.a,{type:"email",value:n.email,onChange:c})),r.a.createElement(k.a,{controlId:"password"},r.a.createElement(j.a,null,"Password"),r.a.createElement(O.a,{type:"password",value:n.password,onChange:c})),r.a.createElement(k.a,{controlId:"confirmPassword"},r.a.createElement(j.a,null,"Confirm Password"),r.a.createElement(O.a,{type:"password",onChange:c,value:n.confirmPassword})),r.a.createElement(C,{block:!0,type:"submit",isLoading:s,disabled:!(n.userName.length>0&&n.email.length>0&&n.password.length>0&&n.password===n.confirmPassword)},"Sign up")))}function D(e){var t=e.children,n=Object(x.a)(e,["children"]),a=Object(E.l)(),c=a.pathname,o=a.search,l=h().userId;return r.a.createElement(E.d,n,l?t:r.a.createElement(E.c,{to:"/login?redirect=".concat(c).concat(o)}))}function B(e){var t=e.children,n=Object(x.a)(e,["children"]),a=h().userId;return r.a.createElement(E.d,n,a?r.a.createElement(E.c,{to:"/"}):t)}var F=n(81),R=n(82),_=n(44),z=n(45),J=n(83),A=n(14),W=n(21);n(70);function H(){var e=new URLSearchParams(Object(E.l)().search),t=Object(a.useState)([]),n=Object(m.a)(t,2),c=n[0],o=n[1],l=h().userId,s=Object(a.useState)(!0),p=Object(m.a)(s,2),f=p[0],d=p[1],v=e.get("userId");function w(){return(w=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(window.location.origin,"/api/user/collections/").concat(t),{method:"PUT"}).then(g);case 3:return e.next=5,fetch("".concat(window.location.origin,"/api/user/collections/relations?userId=").concat(v)).then(g).then((function(e){return e.json()}));case 5:n=e.sent,o(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),b(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function k(){return(k=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(window.location.origin,"/api/user/collections/").concat(t),{method:"DELETE"}).then(g);case 3:return e.next=5,fetch("".concat(window.location.origin,"/api/user/collections/relations?userId=").concat(v)).then(g).then((function(e){return e.json()}));case 5:n=e.sent,o(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),b(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function j(e){var t=l.replace(/"/g,""),n=v===t;return[{}].concat(e).map((function(e,t){return 0!==t&&r.a.createElement(F.a,null,r.a.createElement(R.a,null,r.a.createElement(_.a,{sm:8},r.a.createElement(A.LinkContainer,{key:e.collection.id,to:"/collections/".concat(e.collection.id,"?userId=").concat(v)},r.a.createElement(z.a,{variant:e.belongsToUser?"success":"danger",action:!0},r.a.createElement(R.a,null,r.a.createElement(_.a,{sm:4},r.a.createElement(W.a,{src:"collections/".concat(e.collection.image),thumbnail:!0})),r.a.createElement(_.a,{sm:8},r.a.createElement("h2",null,r.a.createElement("strong",null,e.collection.name)),r.a.createElement("h3",null,e.collection.description)))))),r.a.createElement(_.a,{sm:4},r.a.createElement(y.a,{variant:e.belongsToUser?"danger":"success",onClick:function(){return e.belongsToUser?function(e){return k.apply(this,arguments)}(e.collection.id):function(e){return w.apply(this,arguments)}(e.collection.id)},size:"lg",disabled:!n},e.belongsToUser?"Remove":"Add"))),r.a.createElement(R.a,null,r.a.createElement("br",null)))}))}return void 0===v&&(v=l.replace(/"/g,"")),Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,fetch("".concat(window.location.origin,"/api/user/collections/relations?userId=").concat(v)).then(g).then((function(e){return e.json()}));case 5:t=e.sent,o(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),b(e.t0);case 12:d(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[l,v]),r.a.createElement(F.a,null,l&&r.a.createElement(F.a,null,r.a.createElement(J.a,{variant:"flush"},!f&&j(c))))}n(71);function $(){var e=Object(E.m)().id,t=new URLSearchParams(Object(E.l)().search),n=h().userId,c=Object(a.useState)(null),o=Object(m.a)(c,2),l=o[0],s=o[1],p=Object(a.useState)([]),f=Object(m.a)(p,2),d=f[0],v=f[1],w=Object(a.useState)(!0),x=Object(m.a)(w,2),I=x[0],S=x[1],C=function(e){var t=Object(a.useState)(e),n=Object(m.a)(t,2),r=n[0],c=n[1];return[r,function(e){c(e)},function(e,t){c(Object(L.a)(Object(L.a)({},r),{},Object(N.a)({},t,{count:+e.target.value,changed:!0})))}]}({}),T=Object(m.a)(C,3),U=T[0],P=T[1],D=T[2],B=Object(a.useState)(null),H=Object(m.a)(B,2),$=H[0],q=H[1],G=t.get("userId");function K(){return(K=Object(u.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(window.location.origin,"/api/user/stickers/").concat(n,"?count=0"),{method:"PUT"}).then(g);case 3:return t.next=5,fetch("".concat(window.location.origin,"/api/user/stickers/relations?collectionId=").concat(e,"&userId=").concat(G)).then(g).then((function(e){return e.json()}));case 5:a=t.sent,v(a),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),b(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function M(){return(M=Object(u.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(window.location.origin,"/api/user/stickers/").concat(n),{method:"DELETE"}).then(g);case 3:return t.next=5,fetch("".concat(window.location.origin,"/api/user/stickers/relations?collectionId=").concat(e,"&userId=").concat(G)).then(g).then((function(e){return e.json()}));case 5:a=t.sent,v(a),P(Object(L.a)(Object(L.a)({},U),{},Object(N.a)({},n,{count:0,changed:!1}))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),b(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function Q(){return(Q=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(U[t].count>=0)){e.next=7;break}return e.next=4,fetch("".concat(window.location.origin,"/api/user/stickers/update/").concat(t,"?count=").concat(U[t].count),{method:"PUT"}).then(g);case 4:P(Object(L.a)(Object(L.a)({},U),{},Object(N.a)({},t,{count:U[t].count,changed:!1}))),e.next=8;break;case 7:b("Count for exchange must be >= 0");case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),b(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return void 0===G&&(G=n.replace(/"/g,"")),Object(a.useEffect)((function(){function t(){return(t=Object(u.a)(i.a.mark((function t(){var a,r,c,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,fetch("".concat(window.location.origin,"/api/auth/user/").concat(G)).then(g).then((function(e){return e.json()}));case 5:return a=t.sent,q(a),t.next=9,fetch("".concat(window.location.origin,"/api/collections/").concat(e)).then(g).then((function(e){return e.json()}));case 9:return r=t.sent,s(r),t.next=13,fetch("".concat(window.location.origin,"/api/user/stickers/relations?collectionId=").concat(e,"&userId=").concat(G)).then(g).then((function(e){return e.json()}));case 13:c=t.sent,v(c),o={},c.forEach((function(e){return o[e.sticker.id]={count:e.count,changed:!1}})),P(o),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),b(t.t0);case 23:S(!1);case 24:case"end":return t.stop()}}),t,null,[[0,20]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e,n]),r.a.createElement(F.a,{className:"form"},n&&l&&r.a.createElement(F.a,{className:"form"},r.a.createElement(R.a,{className:"justify-content-md-center"},r.a.createElement("h3",null,l.name)),r.a.createElement(R.a,null,r.a.createElement(_.a,null,r.a.createElement(W.a,{src:l.image,thumbnail:!0})),r.a.createElement(_.a,null,r.a.createElement("h2",null,r.a.createElement("strong",null,"Collector:")),r.a.createElement(A.LinkContainer,{key:$.id,to:"../../users/".concat($.id)},r.a.createElement(y.a,{variant:"secondary",size:"lg"},$.name)),r.a.createElement("h2",null,r.a.createElement("strong",null,"Number of stickers:")),r.a.createElement("h2",null,l.numberOfStickers),r.a.createElement("h2",null,r.a.createElement("strong",null,"Description:")),r.a.createElement("h2",null,l.description))),r.a.createElement(R.a,null,r.a.createElement(J.a,{variant:"flush"},!I&&function(e){var t=n.replace(/"/g,""),a=G===t;return[{}].concat(e).map((function(e,t){return 0!==t&&r.a.createElement(F.a,null,r.a.createElement(R.a,null,r.a.createElement(_.a,{sm:6},r.a.createElement(A.LinkContainer,{key:e.sticker.id,to:"../stickers/".concat(e.sticker.id)},r.a.createElement(z.a,{variant:e.belongsToUser?"success":"danger",action:!0},r.a.createElement(R.a,null,r.a.createElement(_.a,{sm:4},r.a.createElement(W.a,{src:"../stickers/".concat(e.sticker.image),thumbnail:!0})),r.a.createElement(_.a,{sm:8},r.a.createElement("h2",null,r.a.createElement("strong",null,e.sticker.number)),e.sticker.description))))),r.a.createElement(_.a,{sm:2},r.a.createElement(y.a,{variant:e.belongsToUser?"danger":"success",onClick:function(){return e.belongsToUser?function(e){return M.apply(this,arguments)}(e.sticker.id):function(e){return K.apply(this,arguments)}(e.sticker.id)},size:"lg",disabled:!a},e.belongsToUser?"Remove":"Add")),r.a.createElement(_.a,{sm:"auto"},r.a.createElement(k.a,{controlId:"count"},r.a.createElement(j.a,null,"Count for exchange"),r.a.createElement(O.a,{type:"number",value:U[e.sticker.id].count,onChange:function(t){return D(t,e.sticker.id)},disabled:!a||!1===e.belongsToUser})),r.a.createElement(y.a,{block:!0,disabled:!a||!1===e.belongsToUser||!U[e.sticker.id].changed,onClick:function(){return function(e){return Q.apply(this,arguments)}(e.sticker.id)}},"Update"))),r.a.createElement(R.a,null,r.a.createElement("br",null)))}))}(d)))))}n(72);function q(){var e=h().userId,t=Object(E.m)().id,n=Object(a.useState)(null),c=Object(m.a)(n,2),o=c[0],l=c[1],s=Object(a.useState)([]),p=Object(m.a)(s,2),f=p[0],d=p[1];return Object(a.useEffect)((function(){function n(){return(n=Object(u.a)(i.a.mark((function n(){var a,r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,fetch("".concat(window.location.origin,"/api/stickers/").concat(t)).then(g).then((function(e){return e.json()}));case 5:return a=n.sent,l(a),n.next=9,fetch("".concat(window.location.origin,"/api/user/stickers/users_by/").concat(t)).then(g).then((function(e){return e.json()}));case 9:r=n.sent,d(r),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(2),b(n.t0);case 16:case"end":return n.stop()}}),n,null,[[2,13]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[t,e]),r.a.createElement(F.a,{className:"form"},e&&o&&r.a.createElement(F.a,null,r.a.createElement(R.a,{className:"justify-content-md-center"},r.a.createElement("h3",null,o.number)),r.a.createElement(R.a,{className:"info"},r.a.createElement(_.a,{className:"left"},r.a.createElement(W.a,{src:o.image,thumbnail:!0})),r.a.createElement(_.a,{className:"right"},r.a.createElement("h2",null,r.a.createElement("strong",null,"Description")," ",o.description))),r.a.createElement(R.a,null,r.a.createElement("h2",null,r.a.createElement("strong",null,"Collectors having this sticker:"))),r.a.createElement(R.a,null,function(e){return[{}].concat(e).map((function(e,t){return 0!==t&&r.a.createElement(_.a,{sm:"auto"},r.a.createElement(A.LinkContainer,{key:e.id,to:"../../users/".concat(e.id)},r.a.createElement(y.a,{variant:"secondary",size:"lg"},e.name)))}))}(f))))}n(73);function G(){var e=Object(E.m)().id,t=h().userId,n=Object(a.useState)(null),c=Object(m.a)(n,2),o=c[0],l=c[1],s=Object(a.useState)([]),p=Object(m.a)(s,2),f=p[0],d=p[1],v=Object(a.useState)(!0),w=Object(m.a)(v,2),k=w[0],j=w[1];return Object(a.useEffect)((function(){function n(){return(n=Object(u.a)(i.a.mark((function n(){var a,r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,fetch("".concat(window.location.origin,"/api/auth/user/").concat(e)).then(g).then((function(e){return e.json()}));case 5:return a=n.sent,l(a),n.next=9,fetch("".concat(window.location.origin,"/api/user/collections?userId=").concat(e)).then(g).then((function(e){return e.json()}));case 9:r=n.sent,d(r),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(2),b(n.t0);case 16:j(!1);case 17:case"end":return n.stop()}}),n,null,[[2,13]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[e,t]),r.a.createElement(F.a,{className:"form"},o&&r.a.createElement(F.a,{className:"form"},r.a.createElement(R.a,null,r.a.createElement(_.a,null,r.a.createElement("h3",null,r.a.createElement("strong",null,"Collector's name:")),r.a.createElement("h2",null,o.name),r.a.createElement("h3",null,r.a.createElement("strong",null,"Email:")),r.a.createElement("h2",null,o.email)),r.a.createElement(_.a,null,r.a.createElement("h3",null,r.a.createElement("strong",null,"Collections")),r.a.createElement("h2",null,r.a.createElement(J.a,{variant:"flush"},!k&&function(t){return[{}].concat(t).map((function(t,n){return 0!==n&&r.a.createElement(A.LinkContainer,{key:t.id,to:"/collections/".concat(t.id,"?userId=").concat(e)},r.a.createElement(z.a,{variant:"primary",action:!0},t.name))}))}(f)))))))}n(74);function K(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],c=t[1],o=h().userId,l=Object(a.useState)(!0),s=Object(m.a)(l,2),p=s[0],f=s[1];return Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,fetch("".concat(window.location.origin,"/api/auth/users")).then(g).then((function(e){return e.json()}));case 5:t=e.sent,c(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),b(e.t0);case 12:f(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[o]),r.a.createElement("div",null,o&&r.a.createElement("div",null,r.a.createElement(J.a,{variant:"flush"},!p&&function(e){return[{}].concat(e).map((function(e,t){return 0!==t&&r.a.createElement(F.a,null,r.a.createElement(R.a,null,r.a.createElement(A.LinkContainer,{key:e.id,to:"/users/".concat(e.id)},r.a.createElement(z.a,{variant:"primary",action:!0},r.a.createElement(R.a,null,r.a.createElement("h2",null,r.a.createElement("strong",null,e.name)))))),r.a.createElement(R.a,null,r.a.createElement("br",null)))}))}(n))))}function M(){return r.a.createElement(E.g,null,r.a.createElement(E.d,{exact:!0,path:"/"},r.a.createElement(v,null)),r.a.createElement(D,{exact:!0,path:"/collections"},r.a.createElement(H,null)),r.a.createElement(D,{exact:!0,path:"/collections/:id"},r.a.createElement($,null)),r.a.createElement(D,{exact:!0,path:"/stickers/:id"},r.a.createElement(q,null)),r.a.createElement(D,{exact:!0,path:"/home"},r.a.createElement(v,null)),r.a.createElement(D,{exact:!0,path:"/users"},r.a.createElement(K,null)),r.a.createElement(D,{exact:!0,path:"/users/:id"},r.a.createElement(G,null)),r.a.createElement(B,{exact:!0,path:"/login"},r.a.createElement(U,null)),r.a.createElement(B,{exact:!0,path:"/signup"},r.a.createElement(P,null)),r.a.createElement(E.d,null,r.a.createElement(w,null)))}n(75);var Q=function(){var e=Object(E.k)(),t=Object(a.useState)(!0),n=Object(m.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)(null),s=Object(m.a)(l,2),h=s[0],b=s[1];function v(e){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:if(n=e.sent,t.ok){e.next=5;break}throw Error(n);case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(u.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(window.location.origin,"/api/auth/sign_out"),{method:"DELETE"}).then(g);case 2:b(null),e.push("/login");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(window.location.origin,"/api/auth/check_session")).then(v);case 3:t=e.sent,b(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:o(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),!c&&r.a.createElement("div",{className:"App container"},r.a.createElement(f.a,{expand:"lg",bg:"dark",variant:"dark"},r.a.createElement(f.a.Brand,{href:"/"},r.a.createElement("h1",null,"Stickers exchanger")),r.a.createElement(d.a,{className:"mr-auto"},h?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a.Link,{onClick:function(){e.push("/users")}},r.a.createElement("h3",null,"Users")),r.a.createElement(d.a.Link,{onClick:function(){e.push("/collections?userId=".concat(h.replace(/"/g,"")))}},r.a.createElement("h3",null,"Collections")),r.a.createElement(d.a.Link,{onClick:function(){return k.apply(this,arguments)}},r.a.createElement("h3",null,"Logout"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a.Link,{href:"login"},r.a.createElement("h3",null,"Login")),r.a.createElement(d.a.Link,{href:"signup"},r.a.createElement("h3",null,"Sign up"))))),r.a.createElement(p.Provider,{value:{userId:h,setUserId:b}},r.a.createElement(M,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(l.BrowserRouter,null,r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.c6269e9f.chunk.js.map